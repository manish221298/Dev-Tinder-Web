(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{950:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>x});var t=l(5155),r=l(8675),a=l(2115),n=l(5125),o=l(1496),i=l(4859),d=l(1213),c=l(4567);let u=["Name","Nationality","Email","Actions"],h=()=>{let e=(0,d.wA)(),s=(0,d.d4)(e=>e.requests),[l,r]=(0,a.useState)(""),h=async()=>{try{var s;let l=await n.A.get("".concat(o.pc,"/user/request/received"),{headers:{Authorization:"Bearer ".concat((0,o.gf)())}});console.log("log data",l.data.data),e((0,c.N)(null==l||null==(s=l.data)?void 0:s.data)),r("")}catch(e){console.log(e)}};return(0,a.useEffect)(()=>{h()},[l]),(0,t.jsxs)("div",{className:"px-4 py-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold mb-2 flex items-center justify-center gap-3",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Connection Requests"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Review and manage incoming requests"})]}),(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-md shadow-xl border border-gray-200 rounded-lg",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(i.A,{headers:u,connectionData:s,_requestStatus:r})})})]})};function x(){return(0,t.jsx)(r.A,{children:(0,t.jsx)(h,{})})}},4567:(e,s,l)=>{"use strict";l.d(s,{Ay:()=>n,N:()=>r});let t=(0,l(9267).Z0)({name:"requests",initialState:null,reducers:{addRequest:(e,s)=>s.payload,removeRequest:(e,s)=>null}}),{addRequest:r,removeRequest:a}=t.actions,n=t.reducer},4859:(e,s,l)=>{"use strict";l.d(s,{A:()=>d});var t=l(5155),r=l(5125),a=l(1496),n=l(2663),o=l(2619),i=l.n(o);let d=e=>{let{headers:s,connectionData:l,_requestStatus:o}=e,d=async(e,s)=>{var l,t,i,d;try{let i=await r.A.post("".concat(a.pc,"/request/review/").concat(e,"/").concat(s),{},{headers:{Authorization:"Bearer ".concat((0,a.gf)())}});(null==i?void 0:i.status)===200&&(o(null==i||null==(l=i.data)?void 0:l.message),n.Ay.success(null==i||null==(t=i.data)?void 0:t.message))}catch(e){401===e.status&&n.Ay.error(null==e||null==(d=e.response)||null==(i=d.data)?void 0:i.message)}};return(null==l?void 0:l.length)===0?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-500",children:["No ",s.includes("Actions")?"Requests":"Connections"," Found"]}),(0,t.jsx)("p",{className:"text-gray-400 mt-2",children:"Check back later!"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"bg-gray-100",children:s.map((e,s)=>(0,t.jsx)("th",{className:"font-bold text-base py-4 px-4 text-left",children:e},s))})}),(0,t.jsx)("tbody",{children:null==l?void 0:l.map((e,l)=>{var r,a,n,o,c;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors border-b border-gray-200",children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative inline-block",children:(0,t.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden ring-2 ring-blue-600 ring-offset-2 ring-offset-white",children:(0,t.jsx)("img",{src:(null==e?void 0:e.photo)||(null==e||null==(r=e.fromUserId)?void 0:r.photo)||"https://img.daisyui.com/images/profile/demo/2@94.webp",alt:"Avatar",className:"w-full h-full object-cover"})})}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"font-bold text-base",children:(null==e?void 0:e.firstName)?(null==e?void 0:e.firstName)+" "+(null==e?void 0:e.lastName):(null==e||null==(a=e.fromUserId)?void 0:a.firstName)+" "+(null==e||null==(n=e.fromUserId)?void 0:n.lastName)})})]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)("span",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-full",children:(null==e?void 0:e.nationality)||(null==e||null==(o=e.fromUserId)?void 0:o.nationality)||"Not specified"})}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm",children:(null==e?void 0:e.email)?null==e?void 0:e.email:null==e||null==(c=e.fromUserId)?void 0:c.email}),s.includes("Actions")&&(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>d("accepted",null==e?void 0:e._id),className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 hover:scale-105 transition-transform flex items-center gap-1",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Accept"]}),(0,t.jsxs)("button",{onClick:()=>d("rejected",null==e?void 0:e._id),className:"px-3 py-1.5 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 hover:scale-105 transition-transform flex items-center gap-1",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject"]})]})}),s.includes("Chat")&&(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)(i(),{href:"/chat/".concat(null==e?void 0:e._id),children:(0,t.jsxs)("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 hover:scale-105 transition-transform flex items-center gap-1",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Chat"]})})})]},l)})})]})})}},4970:(e,s,l)=>{Promise.resolve().then(l.bind(l,950))}},e=>{e.O(0,[555,690,663,675,441,493,358],()=>e(e.s=4970)),_N_E=e.O()}]);