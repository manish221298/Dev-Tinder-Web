(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{3006:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5155),o=t(8675),l=t(2115),n=t(5125),a=t(1496),i=t(2663),d=t(5156);function c(){let[e,s]=(0,l.useState)([]),[t,o]=(0,l.useState)(!1),[c,u]=(0,l.useState)(""),x=async e=>{let t=e.target.files[0];if(!t||!window.pdfjsLib)return void u("PDF.js not loaded or file missing");try{let e;o(!0),u("");let r=await t.arrayBuffer(),l=await window.pdfjsLib.getDocument({data:r}).promise,n="";for(let e=1;e<=l.numPages;e++){let s=await l.getPage(e),t=(await s.getTextContent()).items.map(e=>e.str).join(" ");n+=t+"\n"}let a=n.replace(/Quiz Questions/g,"").replace(/\s+/g," "),i=/Question\s*(\d+):\s*(.*?)\s*Option1:\s*(.*?)\s*Option2:\s*(.*?)\s*Option3:\s*(.*?)\s*Option4:\s*(.*?)\s*Answer:\s*(.*?)(?=\s*Question\s*\d+:|$)/gi,d=[];for(;null!==(e=i.exec(a));)d.push({Question:e[2].trim(),options:[e[3],e[4],e[5],e[6]].map(e=>e.trim()),answer:e[7].trim()});s(d)}catch(e){console.error("PDF parse error",e),u("Failed to extract PDF content: "+e.message)}finally{o(!1)}};return(0,r.jsx)("div",{className:"px-4 py-8 max-w-6xl mx-auto",children:(0,r.jsx)("div",{className:"bg-white/90 backdrop-blur-md shadow-2xl border border-gray-200 rounded-lg",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"PDF to Quiz Converter"]}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Upload a PDF file to extract quiz questions"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,r.jsxs)("label",{className:"flex-1 px-4 py-3 bg-blue-600 text-white text-lg font-semibold rounded-lg hover:bg-blue-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Choose PDF File",(0,r.jsx)("input",{type:"file",accept:"application/pdf",onChange:x,className:"hidden"})]}),(0,r.jsxs)("button",{onClick:()=>{console.log("onsubmit data",e),n.A.post("".concat(a.pc,"/upload/quiz/pdf"),{questions:e,setName:"Customer care executive",questionSet:1},{headers:{Authorization:"Bearer ".concat((0,a.gf)())}}).then(e=>{console.log("res pdf data",e),i.Ay.success("Quiz uploaded successfully!")}).catch(e=>{console.log("error data",e),i.Ay.error("Failed to upload quiz")})},disabled:0===e.length||t,className:"flex-1 px-4 py-3 bg-green-600 text-white text-lg font-semibold rounded-lg hover:bg-green-700 hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Questions"]})]}),t&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 rounded-lg p-4 flex items-center gap-3",children:[(0,r.jsx)(d.A,{size:"md"}),(0,r.jsx)("span",{children:"Processing PDF..."})]}),c&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 flex items-center gap-3",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:c})]}),e.length>0&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4",children:["Extracted Questions (",e.length,")"]}),(0,r.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 overflow-auto max-h-[60vh]",children:(0,r.jsx)("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:JSON.stringify(e,null,2)})})]})]})})})}function u(){return(0,r.jsx)(o.A,{children:(0,r.jsx)(c,{})})}},5156:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(5155);function o(e){let{size:s="md"}=e;return(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[s]," border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin")})})}},7483:(e,s,t)=>{Promise.resolve().then(t.bind(t,3006))}},e=>{e.O(0,[555,690,663,675,441,493,358],()=>e(e.s=7483)),_N_E=e.O()}]);